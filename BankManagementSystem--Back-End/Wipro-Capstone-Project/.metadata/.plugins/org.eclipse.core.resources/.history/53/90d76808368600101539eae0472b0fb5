package com.bank.customer.entity;

import java.time.LocalDateTime;

import com.bank.account.enums.Gender;

import jakarta.persistence.*;
import lombok.*;

@Entity
@Data
@AllArgsConstructor
@NoArgsConstructor
@Table(name = "customers")
public class Customer {

	@Id
	@GeneratedValue(strategy = GenerationType.IDENTITY)
	private Long contactId;

	private String name;
	private String email;
	private String mobileNumber;
	private String address;
	private Integer age;

	@Enumerated(EnumType.STRING)
	private Gender gender;

	@Column(name = "kyc_status")
	private String kycStatus; // "completed" or "not_completed"
	private LocalDateTime createdAt;

	@PrePersist
	public void prePersist() {
		createdAt = LocalDateTime.now();
		if (kycStatus == null) {
			kycStatus = "not_completed";
		}
	}
}
